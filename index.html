<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>AI ë…ì„œ í† ë¡  ì±—ë´‡ â€“ 1ë‹¨ê³„ ë…ì„œ í™œë™</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<style>
body { background:#f3f4f6; font-family:"Noto Sans KR",sans-serif; }
.container { max-width:760px; margin:30px auto; padding:16px; }
.card { background:#fff; border-radius:16px; padding:20px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
h1 { font-size:1.3rem; margin-bottom:12px; }
.ai { background:#eef2ff; padding:12px; border-radius:10px; margin-bottom:10px; }
.user { background:#dcfce7; padding:12px; border-radius:10px; margin-bottom:10px; text-align:right; }
textarea { width:100%; min-height:90px; padding:10px; border-radius:8px; border:1px solid #ccc; }
button { margin-top:10px; padding:10px 16px; border:none; border-radius:8px; background:#2563eb; color:white; font-size:1rem; cursor:pointer; }
</style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">
const { useState } = React;

function App(){

  const questions = [
    "â‘  ì´ ì±…(ê¸€)ì„ ì„ íƒí•œ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
    "â‘¡ ì´ ì£¼ì œì— ëŒ€í•´ ì´ë¯¸ ì•Œê³  ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
    "â‘¢ ì´ ê¸€ì„ ì½ê¸° ì „ì— ê¶ê¸ˆí–ˆë˜ ì ì€ ë¬´ì—‡ì¸ê°€ìš”?",
    "â‘£ ê¸€ì˜ ì¤‘ì‹¬ ì£¼ì œëŠ” ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ë‚˜ìš”?",
    "â‘¤ ê¸€ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ìš©ì–´ 1ê°€ì§€ë¥¼ ìì‹ ì˜ ë§ë¡œ ì„¤ëª…í•´ë³´ì„¸ìš”.",
    "â‘¥ ë˜ ë‹¤ë¥¸ í•µì‹¬ ìš©ì–´ 1ê°€ì§€ë¥¼ ì„¤ëª…í•´ë³´ì„¸ìš”.",
    "â‘¦ ê¸€ì˜ ì£¼ì¥ì— ëŒ€í•´ ì°¬ì„±í•˜ëŠ” ì´ìœ  1ê°€ì§€ë¥¼ ì ì–´ë³´ì„¸ìš”.",
    "â‘§ ê¸€ì˜ ì£¼ì¥ì— ëŒ€í•´ ë°˜ëŒ€í•˜ê±°ë‚˜ ì˜ë¬¸ì´ ë“œëŠ” ì  1ê°€ì§€ë¥¼ ì ì–´ë³´ì„¸ìš”.",
    "â‘¨ ì½ìœ¼ë©´ì„œ ì´í•´í•˜ê¸° ì–´ë ¤ì› ë˜ ë¶€ë¶„ì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?",
    "â‘© ê°€ì¥ ì¸ìƒ ê¹Šì—ˆë˜ ë¬¸ì¥ì´ë‚˜ ì¥ë©´ì„ ì ì–´ë³´ì„¸ìš”."
  ];

  const [step, setStep] = useState(0);
  const [messages, setMessages] = useState([{ role:"ai", text: questions[0] }]);
  const [input, setInput] = useState("");
  const [answers, setAnswers] = useState([]);

  const sendAnswer = () => {
    if (!input.trim()) return;

    const newMessages = [...messages, { role:"user", text: input }];
    const newAnswers = [...answers, input];

    if (step + 1 < questions.length) {
      newMessages.push({ role:"ai", text: questions[step + 1] });
    } else {
      newMessages.push({ role:"ai", text: "1ë‹¨ê³„ ë…ì„œ í™œë™ì´ ëª¨ë‘ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. í™œë™ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•´ ì£¼ì„¸ìš”." });
    }

    setMessages(newMessages);
    setAnswers(newAnswers);
    setInput("");
    setStep(step + 1);
  };

  const downloadTxt = () => {
    let content = "ğŸ“˜ 1ë‹¨ê³„ ë…ì„œ í™œë™ ê¸°ë¡\n\n";
    answers.forEach((a, i) => {
      content += questions[i] + "\n";
      content += a + "\n\n";
    });

    const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "1ë‹¨ê³„_ë…ì„œí™œë™_ê¸°ë¡.txt";
    link.click();
  };

  return (
    <div className="container">
      <div className="card">
        <h1>AI ë…ì„œ í† ë¡  â€“ 1ë‹¨ê³„ ë…ì„œ í™œë™</h1>

        {messages.map((m, i) => (
          <div key={i} className={m.role === "ai" ? "ai" : "user"}>{m.text}</div>
        ))}

        {step < questions.length && (
          <>
            <textarea
              placeholder="ì—¬ê¸°ì— ìì‹ ì˜ ìƒê°ì„ ì…ë ¥í•˜ì„¸ìš”."
              value={input}
              onChange={e => setInput(e.target.value)}
            />
            <button onClick={sendAnswer}>ë‹¤ìŒ</button>
          </>
        )}

        {step >= questions.length && (
          <button onClick={downloadTxt}>ğŸ“„ í™œë™ì§€ ë‹¤ìš´ë¡œë“œ</button>
        )}
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>

</body>
</html>
